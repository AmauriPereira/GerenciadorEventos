<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<div xmlns="http://www.w3.org/1999/xhtml"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:p="http://primefaces.org/ui"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:c="http://java.sun.com/jsp/jstl/core">
    <c:forEach items="#{questoes}" var="q">
        <h:panelGrid id="grid#{q.id}" columns="4" cellpadding="3">
            <c:if test="#{respostaController.entidade.RespostaDeQuestao(q) != null}">
                <img style="float: left;" src="./resources/img/check.png" width="20" height="30" />
            </c:if>
            <c:if test="#{respostaController.entidade.RespostaDeQuestao(q) == null}">
                <img style="float: left;" src="./resources/img/pendent.png" width="20" height="30" />
            </c:if>
            <h:outputText value="#{q.enunciado}" />
            <c:if test="#{respostaController.entidade.RespostaDeQuestao(q) == null}">                
                <c:if test="#{q.tipo == 'SimNao'}">
                    <h:selectBooleanCheckbox id="valor#{q.id}" value="#{respostaController.resposta.booleano}" />
                </c:if>
                <c:if test="#{q.tipo == 'TextoLinha'}">
                    <p:inputText  id="valor#{q.id}" size="50" value="#{respostaController.resposta.valor}"/>
                </c:if>
                <c:if test="#{q.tipo == 'TextoMultiLinha'}">
                    <p:inputTextarea  id="valor#{q.id}" rows="5" cols="35" value="#{respostaController.resposta.valor}"/>
                </c:if>
                <c:if test="#{q.tipo == 'Inteiro'}">
                    <p:spinner  id="valor#{q.id}" value="#{respostaController.resposta.inteiro}"  min="1">
                        <f:convertNumber type="number" integerOnly="true" />
                    </p:spinner>
                </c:if>
                <c:if test="#{q.tipo == 'Real'}">

                </c:if>
                <c:if test="#{q.tipo == 'Data'}">

                </c:if>
                <p:commandButton id="btnSalvar#{q.id}" icon="ui-icon-check" process="@this,valor#{q.id}" action="#{respostaController.responder()}" update="grid#{q.id}" >
                    <f:setPropertyActionListener target="#{respostaController.questao}" value="#{q}" />
                </p:commandButton>
            </c:if>
            <c:if test="#{respostaController.entidade.RespostaDeQuestao(q) != null}">                
                <c:if test="#{q.tipo == 'SimNao'}">
                    <h:selectBooleanCheckbox id="valor#{q.id}" value="#{respostaController.entidade.RespostaDeQuestao(q).booleano}" />
                </c:if>
                
                <c:if test="#{q.tipo == 'TextoLinha'}">
                    <p:inputText  id="valor#{q.id}" size="50" value="#{respostaController.entidade.RespostaDeQuestao(q).valor}"/>
                </c:if>
                <c:if test="#{q.tipo == 'TextoMultiLinha'}">
                    <p:inputTextarea  id="valor#{q.id}" rows="5" cols="35" value="#{respostaController.entidade.RespostaDeQuestao(q).valor}"/>
                </c:if>
                <c:if test="#{q.tipo == 'Inteiro'}">
                    <p:spinner  id="valor#{q.id}" value="#{respostaController.entidade.RespostaDeQuestao(q).inteiro}"  min="1">
                        <f:convertNumber type="number" integerOnly="true" />
                    </p:spinner>
                </c:if>
                <c:if test="#{q.tipo == 'Real'}">

                </c:if>
                <c:if test="#{q.tipo == 'Data'}">

                </c:if>
                <p:commandButton id="btnSalvar#{q.id}" icon="ui-icon-check" process="@this,valor#{q.id}" action="#{respostaController.responder()}"  update="grid#{q.id}" >
                    <f:setPropertyActionListener target="#{respostaController.resposta}" value="#{respostaController.entidade.RespostaDeQuestao(q)}" />
                    <f:setPropertyActionListener target="#{respostaController.questao}" value="#{q}" />
                </p:commandButton>
            </c:if>
        </h:panelGrid>
    </c:forEach>

</div>

